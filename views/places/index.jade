extends ../layouts/layout

block content
	nav.top-bar
		form#search-form
			.row
				.right.large-6.columns
					.row-collapse
						.small-10.columns
							input(type='text', required).pure-input-rounded.search-input
						.small-2.columns
							button(type='submit').pure-button Search

	#search-div

	br
		
	.row
		.small-3.small-centered.columns
			a(href='/places/new').button Add New Place

	h2.top-bar.subheader All Places
	div
		if(!places.error)
			table
				thead
					tr
						th Name
						th Station
						th Distance
						th Website
						th Map
						th Coordinates
						th Category
						th Links
				tbody
					each place in places 
						tr
							td #{place.name}
							td #{place.line.name}-#{place.stop.name}
							td #{place.distance}
							td #{place.website}
							td #{place.map}
							td #{place.coordinates.lng},#{place.coordinates.lat}
							td #{place.category}
							td: a(href='/places/#{place.id}').button Show
									a(href='/places/#{place.id}/delete').button.delete-place Delete
		else
			h4.subheader.small-1.small-centered.columns #{places.error}

block append scripts
	script(src='/scripts/standalone/include_delete.js')
	script(src='/scripts/standalone/get_place.js')
